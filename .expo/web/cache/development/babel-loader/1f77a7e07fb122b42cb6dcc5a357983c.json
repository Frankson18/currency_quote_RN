{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { createContext, useContext } from 'react';\nimport * as AuthSession from 'expo-auth-session';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar AuthContext = createContext({});\n\nfunction AuthProvider(_ref) {\n  var children = _ref.children;\n  var user = {\n    id: '1',\n    name: 'John Doe',\n    email: 'johnDoe@mail.com'\n  };\n\n  function signInWithGoogle() {\n    return _signInWithGoogle.apply(this, arguments);\n  }\n\n  function _signInWithGoogle() {\n    _signInWithGoogle = _asyncToGenerator(function* () {\n      try {\n        var CLIENT_ID = '277679707012-pu6nf0kjtku3a77ncaf67pie9mi5s8s3.apps.googleusercontent.com';\n        var REDIRECT_URI = 'https://auth.expo.io/tiagosan.dev/currency_quote';\n        var RESPONSE_TYPE = 'token';\n        var SCOPE = encodeURI('profile email');\n        var authUrl = \"https://accounts.google.com/o/oauth2/auth?client_id=\" + CLIENT_ID + \"&redirect_uri=\" + REDIRECT_URI + \"&response_type=\" + RESPONSE_TYPE + \"&scope=\" + SCOPE;\n        var response = yield AuthSession.startAsync({\n          authUrl: authUrl\n        });\n        console.log(\"response\", response);\n      } catch (error) {\n        throw new Error(error);\n      }\n    });\n    return _signInWithGoogle.apply(this, arguments);\n  }\n\n  return _jsx(AuthContext.Provider, {\n    value: {\n      user: user,\n      signInWithGoogle: signInWithGoogle\n    },\n    children: children\n  });\n}\n\nfunction useAuth() {\n  var context = useContext(AuthContext);\n  return context;\n}\n\nexport { AuthProvider, useAuth };","map":{"version":3,"names":["React","createContext","useContext","AuthSession","AuthContext","AuthProvider","children","user","id","name","email","signInWithGoogle","CLIENT_ID","REDIRECT_URI","RESPONSE_TYPE","SCOPE","encodeURI","authUrl","response","startAsync","console","log","error","Error","useAuth","context"],"sources":["C:/Users/tiago/Documents/currency_quote_RN/hooks/auth.tsx"],"sourcesContent":["import React, { createContext, useContext, ReactNode } from 'react';\r\n\r\nimport * as AuthSession from 'expo-auth-session';\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\ninterface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  photo?: string;\r\n}\r\n\r\ninterface IAuthContextData {\r\n  user: User;\r\n  signInWithGoogle(): Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext({} as IAuthContextData);\r\n\r\nfunction AuthProvider({ children }: AuthProviderProps) {\r\n  const user = {\r\n    id: '1',\r\n    name: 'John Doe',\r\n    email: 'johnDoe@mail.com',\r\n  };\r\n\r\n  async function signInWithGoogle() {\r\n    try {\r\n      const CLIENT_ID = '277679707012-pu6nf0kjtku3a77ncaf67pie9mi5s8s3.apps.googleusercontent.com';\r\n      const REDIRECT_URI = 'https://auth.expo.io/tiagosan.dev/currency_quote';\r\n      const RESPONSE_TYPE = 'token';\r\n      const SCOPE = encodeURI('profile email');\r\n\r\n      const authUrl = `https://accounts.google.com/o/oauth2/auth?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}&scope=${SCOPE}`;\r\n\r\n      const response = await AuthSession.startAsync({ authUrl });\r\n      console.log(\"response\", response);\r\n\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      user,\r\n      signInWithGoogle,\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useAuth() {\r\n  const context = useContext(AuthContext);\r\n\r\n  return context;\r\n}\r\n\r\nexport { AuthProvider, useAuth };"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,QAA4D,OAA5D;AAEA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;;AAkBA,IAAMC,WAAW,GAAGH,aAAa,CAAC,EAAD,CAAjC;;AAEA,SAASI,YAAT,OAAuD;EAAA,IAA/BC,QAA+B,QAA/BA,QAA+B;EACrD,IAAMC,IAAI,GAAG;IACXC,EAAE,EAAE,GADO;IAEXC,IAAI,EAAE,UAFK;IAGXC,KAAK,EAAE;EAHI,CAAb;;EADqD,SAOtCC,gBAPsC;IAAA;EAAA;;EAAA;IAAA,sCAOrD,aAAkC;MAChC,IAAI;QACF,IAAMC,SAAS,GAAG,0EAAlB;QACA,IAAMC,YAAY,GAAG,kDAArB;QACA,IAAMC,aAAa,GAAG,OAAtB;QACA,IAAMC,KAAK,GAAGC,SAAS,CAAC,eAAD,CAAvB;QAEA,IAAMC,OAAO,4DAA0DL,SAA1D,sBAAoFC,YAApF,uBAAkHC,aAAlH,eAAyIC,KAAtJ;QAEA,IAAMG,QAAQ,SAASf,WAAW,CAACgB,UAAZ,CAAuB;UAAEF,OAAO,EAAPA;QAAF,CAAvB,CAAvB;QACAG,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBH,QAAxB;MAED,CAXD,CAWE,OAAOI,KAAP,EAAc;QACd,MAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;MACD;IAEF,CAvBoD;IAAA;EAAA;;EAyBrD,OACE,KAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MAC3Bf,IAAI,EAAJA,IAD2B;MAE3BI,gBAAgB,EAAhBA;IAF2B,CAA7B;IAAA,UAIGL;EAJH,EADF;AAQD;;AAED,SAASkB,OAAT,GAAmB;EACjB,IAAMC,OAAO,GAAGvB,UAAU,CAACE,WAAD,CAA1B;EAEA,OAAOqB,OAAP;AACD;;AAED,SAASpB,YAAT,EAAuBmB,OAAvB"},"metadata":{},"sourceType":"module"}