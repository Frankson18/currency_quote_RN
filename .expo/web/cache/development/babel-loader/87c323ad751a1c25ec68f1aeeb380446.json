{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport _ from \"lodash\";\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { G, Rect, Svg, Text } from \"react-native-svg\";\nimport AbstractChart from \"../AbstractChart\";\nimport { mapValue } from \"../Utils\";\nimport { convertToDate, getBeginningTimeForDate, shiftDate } from \"./DateHelpers\";\nimport { DAYS_IN_WEEK, MILLISECONDS_IN_ONE_DAY, MONTH_LABELS } from \"./constants\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SQUARE_SIZE = 20;\nvar MONTH_LABEL_GUTTER_SIZE = 8;\nvar paddingLeft = 32;\n\nvar ContributionGraph = function (_super) {\n  __extends(ContributionGraph, _super);\n\n  function ContributionGraph(props) {\n    var _this = _super.call(this, props) || this;\n\n    var _a = _this.getValueCache(props.values),\n        maxValue = _a.maxValue,\n        minValue = _a.minValue,\n        valueCache = _a.valueCache;\n\n    _this.state = {\n      maxValue: maxValue,\n      minValue: minValue,\n      valueCache: valueCache\n    };\n    return _this;\n  }\n\n  ContributionGraph.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    var _a = this.getValueCache(nextProps.values),\n        maxValue = _a.maxValue,\n        minValue = _a.minValue,\n        valueCache = _a.valueCache;\n\n    this.setState({\n      maxValue: maxValue,\n      minValue: minValue,\n      valueCache: valueCache\n    });\n  };\n\n  ContributionGraph.prototype.getSquareSizeWithGutter = function () {\n    return (this.props.squareSize || SQUARE_SIZE) + this.props.gutterSize;\n  };\n\n  ContributionGraph.prototype.getMonthLabelSize = function () {\n    var _a = this.props.squareSize,\n        squareSize = _a === void 0 ? SQUARE_SIZE : _a;\n\n    if (!this.props.showMonthLabels) {\n      return 0;\n    }\n\n    if (this.props.horizontal) {\n      return squareSize + MONTH_LABEL_GUTTER_SIZE;\n    }\n\n    return 2 * (squareSize + MONTH_LABEL_GUTTER_SIZE);\n  };\n\n  ContributionGraph.prototype.getStartDate = function () {\n    return shiftDate(this.getEndDate(), -this.props.numDays + 1);\n  };\n\n  ContributionGraph.prototype.getEndDate = function () {\n    return getBeginningTimeForDate(convertToDate(this.props.endDate));\n  };\n\n  ContributionGraph.prototype.getStartDateWithEmptyDays = function () {\n    return shiftDate(this.getStartDate(), -this.getNumEmptyDaysAtStart());\n  };\n\n  ContributionGraph.prototype.getNumEmptyDaysAtStart = function () {\n    return this.getStartDate().getDay();\n  };\n\n  ContributionGraph.prototype.getNumEmptyDaysAtEnd = function () {\n    return DAYS_IN_WEEK - 1 - this.getEndDate().getDay();\n  };\n\n  ContributionGraph.prototype.getWeekCount = function () {\n    var numDaysRoundedToWeek = this.props.numDays + this.getNumEmptyDaysAtStart() + this.getNumEmptyDaysAtEnd();\n    return Math.ceil(numDaysRoundedToWeek / DAYS_IN_WEEK);\n  };\n\n  ContributionGraph.prototype.getWeekWidth = function () {\n    return DAYS_IN_WEEK * this.getSquareSizeWithGutter();\n  };\n\n  ContributionGraph.prototype.getWidth = function () {\n    return this.getWeekCount() * this.getSquareSizeWithGutter() - this.props.gutterSize;\n  };\n\n  ContributionGraph.prototype.getHeight = function () {\n    return this.getWeekWidth() + (this.getMonthLabelSize() - this.props.gutterSize);\n  };\n\n  ContributionGraph.prototype.getValueCache = function (values) {\n    var _this = this;\n\n    var minValue = Infinity,\n        maxValue = -Infinity;\n    return {\n      valueCache: values.reduce(function (memo, value) {\n        var date = convertToDate(value.date);\n        var index = Math.floor((date.valueOf() - _this.getStartDateWithEmptyDays().valueOf()) / MILLISECONDS_IN_ONE_DAY);\n        minValue = Math.min(value[_this.props.accessor], minValue);\n        maxValue = Math.max(value[_this.props.accessor], maxValue);\n        memo[index] = {\n          value: value,\n          title: _this.props.titleForValue ? _this.props.titleForValue(value) : null,\n          tooltipDataAttrs: _this.getTooltipDataAttrsForValue(value)\n        };\n        return memo;\n      }, {}),\n      minValue: minValue,\n      maxValue: maxValue\n    };\n  };\n\n  ContributionGraph.prototype.getValueForIndex = function (index) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].value;\n    }\n\n    return null;\n  };\n\n  ContributionGraph.prototype.getClassNameForIndex = function (index) {\n    if (this.state.valueCache[index]) {\n      if (this.state.valueCache[index].value) {\n        var count = this.state.valueCache[index].value[this.props.accessor];\n\n        if (count) {\n          var opacity = mapValue(count, this.state.maxValue === this.state.minValue ? 0 : this.state.minValue, isNaN(this.state.maxValue) ? 1 : this.state.maxValue, 0.15 + 0.05, 1);\n          return this.props.chartConfig.color(opacity);\n        }\n      }\n    }\n\n    return this.props.chartConfig.color(0.15);\n  };\n\n  ContributionGraph.prototype.getTitleForIndex = function (index) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].title;\n    }\n\n    return this.props.titleForValue ? this.props.titleForValue(null) : null;\n  };\n\n  ContributionGraph.prototype.getTooltipDataAttrsForIndex = function (index) {\n    var _a;\n\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].tooltipDataAttrs;\n    }\n\n    return this.getTooltipDataAttrsForValue((_a = {\n      date: null\n    }, _a[this.props.accessor] = null, _a));\n  };\n\n  ContributionGraph.prototype.getTooltipDataAttrsForValue = function (value) {\n    var tooltipDataAttrs = this.props.tooltipDataAttrs;\n\n    if (typeof tooltipDataAttrs === \"function\") {\n      return tooltipDataAttrs(value);\n    }\n\n    return tooltipDataAttrs;\n  };\n\n  ContributionGraph.prototype.getTransformForWeek = function (weekIndex) {\n    if (this.props.horizontal) {\n      return [weekIndex * this.getSquareSizeWithGutter(), 50];\n    }\n\n    return [10, weekIndex * this.getSquareSizeWithGutter()];\n  };\n\n  ContributionGraph.prototype.getTransformForMonthLabels = function () {\n    if (this.props.horizontal) {\n      return null;\n    }\n\n    return this.getWeekWidth() + MONTH_LABEL_GUTTER_SIZE + \", 0\";\n  };\n\n  ContributionGraph.prototype.getTransformForAllWeeks = function () {\n    if (this.props.horizontal) {\n      return \"0, \" + (this.getMonthLabelSize() - 100);\n    }\n\n    return null;\n  };\n\n  ContributionGraph.prototype.getViewBox = function () {\n    if (this.props.horizontal) {\n      return this.getWidth() + \" \" + this.getHeight();\n    }\n\n    return this.getHeight() + \" \" + this.getWidth();\n  };\n\n  ContributionGraph.prototype.getSquareCoordinates = function (dayIndex) {\n    if (this.props.horizontal) {\n      return [0, dayIndex * this.getSquareSizeWithGutter()];\n    }\n\n    return [dayIndex * this.getSquareSizeWithGutter(), 0];\n  };\n\n  ContributionGraph.prototype.getMonthLabelCoordinates = function (weekIndex) {\n    if (this.props.horizontal) {\n      return [weekIndex * this.getSquareSizeWithGutter(), this.getMonthLabelSize() - MONTH_LABEL_GUTTER_SIZE];\n    }\n\n    var verticalOffset = -2;\n    return [0, (weekIndex + 1) * this.getSquareSizeWithGutter() + verticalOffset];\n  };\n\n  ContributionGraph.prototype.renderSquare = function (dayIndex, index) {\n    var _this = this;\n\n    var indexOutOfRange = index < this.getNumEmptyDaysAtStart() || index >= this.getNumEmptyDaysAtStart() + this.props.numDays;\n\n    if (indexOutOfRange && !this.props.showOutOfRangeDays) {\n      return null;\n    }\n\n    var _a = this.getSquareCoordinates(dayIndex),\n        x = _a[0],\n        y = _a[1];\n\n    var _b = this.props.squareSize,\n        squareSize = _b === void 0 ? SQUARE_SIZE : _b;\n    return _jsx(Rect, _objectSpread({\n      width: squareSize,\n      height: squareSize,\n      x: x + paddingLeft,\n      y: y,\n      title: this.getTitleForIndex(index),\n      fill: this.getClassNameForIndex(index),\n      onPress: function onPress() {\n        _this.handleDayPress(index);\n      }\n    }, this.getTooltipDataAttrsForIndex(index)), index);\n  };\n\n  ContributionGraph.prototype.handleDayPress = function (index) {\n    var _a;\n\n    if (!this.props.onDayPress) {\n      return;\n    }\n\n    this.props.onDayPress(this.state.valueCache[index] && this.state.valueCache[index].value ? this.state.valueCache[index].value : (_a = {}, _a[this.props.accessor] = 0, _a.date = new Date(this.getStartDate().valueOf() + index * MILLISECONDS_IN_ONE_DAY), _a));\n  };\n\n  ContributionGraph.prototype.renderWeek = function (weekIndex) {\n    var _this = this;\n\n    var _a = this.getTransformForWeek(weekIndex),\n        x = _a[0],\n        y = _a[1];\n\n    return _jsx(G, {\n      x: x,\n      y: y,\n      children: _.range(DAYS_IN_WEEK).map(function (dayIndex) {\n        return _this.renderSquare(dayIndex, weekIndex * DAYS_IN_WEEK + dayIndex);\n      })\n    }, weekIndex);\n  };\n\n  ContributionGraph.prototype.renderAllWeeks = function () {\n    var _this = this;\n\n    return _.range(this.getWeekCount()).map(function (weekIndex) {\n      return _this.renderWeek(weekIndex);\n    });\n  };\n\n  ContributionGraph.prototype.renderMonthLabels = function () {\n    var _this = this;\n\n    if (!this.props.showMonthLabels) {\n      return null;\n    }\n\n    var weekRange = _.range(this.getWeekCount() - 1);\n\n    return weekRange.map(function (weekIndex) {\n      var endOfWeek = shiftDate(_this.getStartDateWithEmptyDays(), (weekIndex + 1) * DAYS_IN_WEEK);\n\n      var _a = _this.getMonthLabelCoordinates(weekIndex),\n          x = _a[0],\n          y = _a[1];\n\n      return endOfWeek.getDate() >= 1 && endOfWeek.getDate() <= DAYS_IN_WEEK ? _jsx(Text, _objectSpread(_objectSpread({\n        x: x + paddingLeft,\n        y: y + 8\n      }, _this.getPropsForLabels()), {}, {\n        children: _this.props.getMonthLabel ? _this.props.getMonthLabel(endOfWeek.getMonth()) : MONTH_LABELS[endOfWeek.getMonth()]\n      }), weekIndex) : null;\n    });\n  };\n\n  ContributionGraph.prototype.render = function () {\n    var style = this.props.style;\n    var _a = style.borderRadius,\n        borderRadius = _a === void 0 ? 0 : _a;\n\n    if (!borderRadius && this.props.chartConfig.style) {\n      var stupidXo = this.props.chartConfig.style.borderRadius;\n      borderRadius = stupidXo;\n    }\n\n    return _jsx(View, {\n      style: style,\n      children: _jsxs(Svg, {\n        height: this.props.height,\n        width: this.props.width,\n        children: [this.renderDefs(__assign({\n          width: this.props.width,\n          height: this.props.height\n        }, this.props.chartConfig)), _jsx(Rect, {\n          width: \"100%\",\n          height: this.props.height,\n          rx: borderRadius,\n          ry: borderRadius,\n          fill: \"url(#backgroundGradient)\"\n        }), _jsx(G, {\n          children: this.renderMonthLabels()\n        }), _jsx(G, {\n          children: this.renderAllWeeks()\n        })]\n      })\n    });\n  };\n\n  ContributionGraph.defaultProps = {\n    numDays: 200,\n    endDate: new Date(),\n    gutterSize: 1,\n    squareSize: SQUARE_SIZE,\n    horizontal: true,\n    showMonthLabels: true,\n    showOutOfRangeDays: false,\n    accessor: \"count\",\n    classForValue: function classForValue(value) {\n      return value ? \"black\" : \"#8cc665\";\n    },\n    style: {}\n  };\n  return ContributionGraph;\n}(AbstractChart);\n\nexport default ContributionGraph;","map":{"version":3,"mappings":"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","names":["_","React","G","Rect","Svg","Text","AbstractChart","mapValue","convertToDate","getBeginningTimeForDate","shiftDate","DAYS_IN_WEEK","MILLISECONDS_IN_ONE_DAY","MONTH_LABELS","SQUARE_SIZE","MONTH_LABEL_GUTTER_SIZE","paddingLeft","__extends","props","_super","_this","getValueCache","values","maxValue","minValue","valueCache","state","ContributionGraph","nextProps","setState","squareSize","gutterSize","_a","showMonthLabels","horizontal","getEndDate","numDays","endDate","getStartDate","getNumEmptyDaysAtStart","getDay","numDaysRoundedToWeek","getNumEmptyDaysAtEnd","Math","ceil","getSquareSizeWithGutter","getWeekCount","getWeekWidth","getMonthLabelSize","Infinity","reduce","memo","value","date","index","floor","valueOf","getStartDateWithEmptyDays","min","accessor","max","title","titleForValue","tooltipDataAttrs","getTooltipDataAttrsForValue","count","opacity","isNaN","chartConfig","color","weekIndex","getWidth","getHeight","dayIndex","verticalOffset","indexOutOfRange","showOutOfRangeDays","getSquareCoordinates","x","y","_b","getTitleForIndex","getClassNameForIndex","handleDayPress","getTooltipDataAttrsForIndex","onDayPress","Date","getTransformForWeek","range","map","renderSquare","renderWeek","weekRange","endOfWeek","getMonthLabelCoordinates","getDate","getPropsForLabels","getMonthLabel","getMonth","style","borderRadius","stupidXo","height","width","renderDefs","__assign","renderMonthLabels","renderAllWeeks","classForValue"],"sourceRoot":"","sources":["../../src/contribution-graph/ContributionGraph.tsx"],"sourcesContent":["import _ from \"lodash\";\nimport React from \"react\";\nimport { View } from \"react-native\";\nimport { G, Rect, RectProps, Svg, Text } from \"react-native-svg\";\n\nimport AbstractChart from \"../AbstractChart\";\nimport { mapValue } from \"../Utils\";\nimport {\n  convertToDate,\n  getBeginningTimeForDate,\n  shiftDate\n} from \"./DateHelpers\";\nimport {\n  DAYS_IN_WEEK,\n  MILLISECONDS_IN_ONE_DAY,\n  MONTH_LABELS\n} from \"./constants\";\nimport { ContributionGraphProps, ContributionGraphState } from \".\";\n\nconst SQUARE_SIZE = 20;\nconst MONTH_LABEL_GUTTER_SIZE = 8;\nconst paddingLeft = 32;\n\nexport type ContributionChartValue = {\n  value: number;\n  title: string;\n  tooltipDataAttrs: TooltipDataAttrs;\n  date: Date;\n};\n\nexport type TooltipDataAttrs = (\n  value: ContributionChartValue\n) => Partial<RectProps> | Partial<RectProps>;\n\nclass ContributionGraph extends AbstractChart<\n  ContributionGraphProps,\n  ContributionGraphState\n> {\n  constructor(props: ContributionGraphProps) {\n    super(props);\n\n    let { maxValue, minValue, valueCache } = this.getValueCache(props.values);\n\n    this.state = {\n      maxValue,\n      minValue,\n      valueCache\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: ContributionGraphProps) {\n    let { maxValue, minValue, valueCache } = this.getValueCache(\n      nextProps.values\n    );\n\n    this.setState({\n      maxValue,\n      minValue,\n      valueCache\n    });\n  }\n\n  getSquareSizeWithGutter() {\n    return (this.props.squareSize || SQUARE_SIZE) + this.props.gutterSize;\n  }\n\n  getMonthLabelSize() {\n    let { squareSize = SQUARE_SIZE } = this.props;\n    if (!this.props.showMonthLabels) {\n      return 0;\n    }\n    if (this.props.horizontal) {\n      return squareSize + MONTH_LABEL_GUTTER_SIZE;\n    }\n    return 2 * (squareSize + MONTH_LABEL_GUTTER_SIZE);\n  }\n\n  getStartDate() {\n    return shiftDate(this.getEndDate(), -this.props.numDays + 1); // +1 because endDate is inclusive\n  }\n\n  getEndDate() {\n    return getBeginningTimeForDate(convertToDate(this.props.endDate));\n  }\n\n  getStartDateWithEmptyDays() {\n    return shiftDate(this.getStartDate(), -this.getNumEmptyDaysAtStart());\n  }\n\n  getNumEmptyDaysAtStart() {\n    return this.getStartDate().getDay();\n  }\n\n  getNumEmptyDaysAtEnd() {\n    return DAYS_IN_WEEK - 1 - this.getEndDate().getDay();\n  }\n\n  getWeekCount() {\n    const numDaysRoundedToWeek =\n      this.props.numDays +\n      this.getNumEmptyDaysAtStart() +\n      this.getNumEmptyDaysAtEnd();\n    return Math.ceil(numDaysRoundedToWeek / DAYS_IN_WEEK);\n  }\n\n  getWeekWidth() {\n    return DAYS_IN_WEEK * this.getSquareSizeWithGutter();\n  }\n\n  getWidth() {\n    return (\n      this.getWeekCount() * this.getSquareSizeWithGutter() -\n      this.props.gutterSize\n    );\n  }\n\n  getHeight() {\n    return (\n      this.getWeekWidth() + (this.getMonthLabelSize() - this.props.gutterSize)\n    );\n  }\n\n  getValueCache(values: ContributionChartValue[]) {\n    let minValue = Infinity,\n      maxValue = -Infinity;\n\n    return {\n      valueCache: values.reduce((memo, value) => {\n        const date = convertToDate(value.date);\n\n        const index = Math.floor(\n          (date.valueOf() - this.getStartDateWithEmptyDays().valueOf()) /\n            MILLISECONDS_IN_ONE_DAY\n        );\n\n        minValue = Math.min(value[this.props.accessor], minValue);\n        maxValue = Math.max(value[this.props.accessor], maxValue);\n\n        memo[index] = {\n          value,\n          title: this.props.titleForValue\n            ? this.props.titleForValue(value)\n            : null,\n          tooltipDataAttrs: this.getTooltipDataAttrsForValue(value)\n        };\n\n        return memo;\n      }, {}),\n      minValue,\n      maxValue\n    };\n  }\n\n  getValueForIndex(index: number) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].value;\n    }\n    return null;\n  }\n\n  getClassNameForIndex(index: number) {\n    if (this.state.valueCache[index]) {\n      if (this.state.valueCache[index].value) {\n        const count = this.state.valueCache[index].value[this.props.accessor];\n\n        if (count) {\n          const opacity = mapValue(\n            count,\n            this.state.maxValue === this.state.minValue ? 0: this.state.minValue,\n            isNaN(this.state.maxValue) ? 1 : this.state.maxValue,\n            0.15 + 0.05, // + 0.05 to make smaller values a bit more visible\n            1\n          );\n\n          return this.props.chartConfig.color(opacity);\n        }\n      }\n    }\n\n    return this.props.chartConfig.color(0.15);\n  }\n\n  getTitleForIndex(index: number) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].title;\n    }\n\n    return this.props.titleForValue ? this.props.titleForValue(null) : null;\n  }\n\n  getTooltipDataAttrsForIndex(index: number) {\n    if (this.state.valueCache[index]) {\n      return this.state.valueCache[index].tooltipDataAttrs;\n    }\n\n    return this.getTooltipDataAttrsForValue({\n      date: null,\n      [this.props.accessor]: null\n    } as ContributionChartValue);\n  }\n\n  getTooltipDataAttrsForValue(value: ContributionChartValue) {\n    const { tooltipDataAttrs } = this.props;\n\n    if (typeof tooltipDataAttrs === \"function\") {\n      return tooltipDataAttrs(value);\n    }\n\n    return tooltipDataAttrs;\n  }\n\n  getTransformForWeek(weekIndex: number) {\n    if (this.props.horizontal) {\n      return [weekIndex * this.getSquareSizeWithGutter(), 50];\n    }\n    return [10, weekIndex * this.getSquareSizeWithGutter()];\n  }\n\n  getTransformForMonthLabels() {\n    if (this.props.horizontal) {\n      return null;\n    }\n    return `${this.getWeekWidth() + MONTH_LABEL_GUTTER_SIZE}, 0`;\n  }\n\n  getTransformForAllWeeks() {\n    if (this.props.horizontal) {\n      return `0, ${this.getMonthLabelSize() - 100}`;\n    }\n    return null;\n  }\n\n  getViewBox() {\n    if (this.props.horizontal) {\n      return `${this.getWidth()} ${this.getHeight()}`;\n    }\n    return `${this.getHeight()} ${this.getWidth()}`;\n  }\n\n  getSquareCoordinates(dayIndex: number) {\n    if (this.props.horizontal) {\n      return [0, dayIndex * this.getSquareSizeWithGutter()];\n    }\n    return [dayIndex * this.getSquareSizeWithGutter(), 0];\n  }\n\n  getMonthLabelCoordinates(weekIndex: number) {\n    if (this.props.horizontal) {\n      return [\n        weekIndex * this.getSquareSizeWithGutter(),\n        this.getMonthLabelSize() - MONTH_LABEL_GUTTER_SIZE\n      ];\n    }\n    const verticalOffset = -2;\n    return [\n      0,\n      (weekIndex + 1) * this.getSquareSizeWithGutter() + verticalOffset\n    ];\n  }\n\n  renderSquare(dayIndex: number, index: number) {\n    const indexOutOfRange =\n      index < this.getNumEmptyDaysAtStart() ||\n      index >= this.getNumEmptyDaysAtStart() + this.props.numDays;\n\n    if (indexOutOfRange && !this.props.showOutOfRangeDays) {\n      return null;\n    }\n\n    const [x, y] = this.getSquareCoordinates(dayIndex);\n    const { squareSize = SQUARE_SIZE } = this.props;\n\n    return (\n      <Rect\n        key={index}\n        width={squareSize}\n        height={squareSize}\n        x={x + paddingLeft}\n        y={y}\n        title={this.getTitleForIndex(index)}\n        fill={this.getClassNameForIndex(index)}\n        onPress={() => {\n          this.handleDayPress(index);\n        }}\n        {...this.getTooltipDataAttrsForIndex(index)}\n      />\n    );\n  }\n\n  handleDayPress(index: number) {\n    if (!this.props.onDayPress) {\n      return;\n    }\n\n    this.props.onDayPress(\n      this.state.valueCache[index] && this.state.valueCache[index].value\n        ? this.state.valueCache[index].value\n        : {\n            [this.props.accessor]: 0,\n            date: new Date(\n              this.getStartDate().valueOf() + index * MILLISECONDS_IN_ONE_DAY\n            )\n          }\n    );\n  }\n\n  renderWeek(weekIndex: number) {\n    const [x, y] = this.getTransformForWeek(weekIndex);\n    return (\n      <G key={weekIndex} x={x} y={y}>\n        {_.range(DAYS_IN_WEEK).map(dayIndex =>\n          this.renderSquare(dayIndex, weekIndex * DAYS_IN_WEEK + dayIndex)\n        )}\n      </G>\n    );\n  }\n\n  renderAllWeeks() {\n    return _.range(this.getWeekCount()).map(weekIndex =>\n      this.renderWeek(weekIndex)\n    );\n  }\n\n  renderMonthLabels() {\n    if (!this.props.showMonthLabels) {\n      return null;\n    }\n\n    const weekRange = _.range(this.getWeekCount() - 1); // don't render for last week, because label will be cut off\n\n    return weekRange.map(weekIndex => {\n      const endOfWeek = shiftDate(\n        this.getStartDateWithEmptyDays(),\n        (weekIndex + 1) * DAYS_IN_WEEK\n      );\n\n      const [x, y] = this.getMonthLabelCoordinates(weekIndex);\n\n      return endOfWeek.getDate() >= 1 && endOfWeek.getDate() <= DAYS_IN_WEEK ? (\n        <Text\n          key={weekIndex}\n          x={x + paddingLeft}\n          y={y + 8}\n          {...this.getPropsForLabels()}\n        >\n          {this.props.getMonthLabel\n            ? this.props.getMonthLabel(endOfWeek.getMonth())\n            : MONTH_LABELS[endOfWeek.getMonth()]}\n        </Text>\n      ) : null;\n    });\n  }\n\n  public static defaultProps = {\n    numDays: 200,\n    endDate: new Date(),\n    gutterSize: 1,\n    squareSize: SQUARE_SIZE,\n    horizontal: true,\n    showMonthLabels: true,\n    showOutOfRangeDays: false,\n    accessor: \"count\",\n    classForValue: value => (value ? \"black\" : \"#8cc665\"),\n    style: {}\n  };\n\n  render() {\n    const { style } = this.props;\n\n    let { borderRadius = 0 } = style;\n\n    if (!borderRadius && this.props.chartConfig.style) {\n      const stupidXo = this.props.chartConfig.style.borderRadius;\n      borderRadius = stupidXo;\n    }\n\n    return (\n      <View style={style}>\n        <Svg height={this.props.height} width={this.props.width}>\n          {this.renderDefs({\n            width: this.props.width,\n            height: this.props.height,\n            ...this.props.chartConfig\n          })}\n          <Rect\n            width=\"100%\"\n            height={this.props.height}\n            rx={borderRadius}\n            ry={borderRadius}\n            fill=\"url(#backgroundGradient)\"\n          />\n          <G>{this.renderMonthLabels()}</G>\n          <G>{this.renderAllWeeks()}</G>\n        </Svg>\n      </View>\n    );\n  }\n}\n\nexport default ContributionGraph;\n"]},"metadata":{},"sourceType":"module"}